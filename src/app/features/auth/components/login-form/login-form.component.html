<form [formGroup]="form" class="login-form needs-validation">
  <div class="d-flex flex-column">
    <div class="username-input has-validation">
      <label for="username" class="form-label"
        >{{ "username" | translate }}*</label
      >
      <input
        id="username"
        class="form-control"
        type="text"
        placeholder="{{ 'username' | translate }}"
        formControlName="username"
      />
      <div *ngIf="form.get('username')?.invalid && form.get('username')?.touched" class="col-auto">
        <span class="text-danger">{{ form.get('username')!.errors | etiyaControlErrorMessage }}</span>
      </div>
    </div>
    <div class="password-input">
      <label for="password" class="form-label"
        >{{ "password" | translate }}*</label
      >
      <input
        id="password"
        class="form-control"
        type="{{ showPassword ? 'text' : 'password' }}"
        placeholder="{{ 'password' | translate }}"
        formControlName="password"
      />
      <i
        class="pass-icon"
        [ngClass]="{
          'fa-regular fa-eye fa-2x': showPassword,
          'fa-solid fa-eye-slash fa-2x': !showPassword
        }"
        (click)="togglePasswordVisibility()"
      ></i>
      <div *ngIf="form.get('password')?.invalid && form.get('password')?.touched" class="col-auto">
        <span class="text-danger">{{ form.get('password')!.errors | etiyaControlErrorMessage }}</span>
      </div>
    </div>
  </div>

  <div class="row my-4">
    <div class="col">
      <p class="resetpass" routerLink="auth/login" (click)="(true)">
        {{ "reset_password" | translate }}
      </p>
    </div>
    <div class="col form-check remember-me">
      <label class="check-label" for="rememberMe">Remember me</label>
      <input
        class="form-check-input"
        type="checkbox"
        value="lsRememberMe"
        id="rememberMe"
      />
    </div>
  </div>
  <div class="d-flex justify-content-center">
    <button class="btn" [disabled]="!form.valid" [ngClass]="{ 'valid-login-button': form.valid,'invalid-login-button': !form.valid }" (click)="togglePopup($event)">
      {{ "login" | translate }}
    </button>
  </div>

  <app-warning-popup *ngIf="showPopup"></app-warning-popup>
</form>
